import React, { useEffect, useState } from 'react';
import { Link } from 'react-router-dom';

export const DojoDropdown = ({ hidden }: { hidden: string }) => {
  const [isActive, setIsActive] = useState(false);

  const handleClick = (e: React.MouseEvent<HTMLDivElement>) => {
    e.stopPropagation();
    setIsActive((state) => !state);
  };

  useEffect(() => {
    document.body.addEventListener('click', () => setIsActive(false));
  }, []);
  return (
    <div className={`header-dropdown ${isActive ? 'header-dropdown--active' : ''} ${hidden}`}>
      <div className="header-dropdown__top" onClick={handleClick}>
        <span>Dojo</span>
        <svg className="arrow" width="24" height="24" viewBox="0 0 24 24">
          <path d="M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z"></path>
        </svg>
      </div>
      <nav className="header-dropdown__bottom">
        <div className="header-dropdown__list">
          <Link to="/kata" className="header-dropdown__item">
            <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.16146 2L5.64281 2C6.72659 1.99999 7.60075 1.99998 8.30863 2.05782C9.03748 2.11737 9.67766 2.24318 10.27 2.54497C10.9535 2.89326 11.5442 3.39228 12 3.99999C12.4558 3.39228 13.0465 2.89326 13.73 2.54497C14.3223 2.24318 14.9625 2.11737 15.6914 2.05782C16.3993 1.99998 17.2734 1.99999 18.3572 2L18.8385 2C19.3657 1.99998 19.8205 1.99997 20.195 2.03057C20.5904 2.06287 20.9836 2.13419 21.362 2.32698C21.9265 2.6146 22.3854 3.07355 22.673 3.63803C22.8658 4.01641 22.9371 4.40963 22.9694 4.80497C23 5.17954 23 5.6343 23 6.16143V14.8386C23 15.3657 23 15.8205 22.9694 16.195C22.9371 16.5904 22.8658 16.9836 22.673 17.362C22.3854 17.9265 21.9265 18.3854 21.362 18.673C20.9836 18.8658 20.5904 18.9371 20.195 18.9694C19.8205 19 19.3657 19 18.8386 19H17.4252C16.1106 19 15.6617 19.0102 15.269 19.1295C14.8916 19.2441 14.5405 19.4319 14.2359 19.6824C13.9188 19.943 13.6613 20.3108 12.9321 21.4046L12.8321 21.5547C12.6466 21.8329 12.3344 22 12 22C11.6656 22 11.3534 21.8329 11.168 21.5547L11.0679 21.4046C10.3387 20.3108 10.0812 19.943 9.76414 19.6824C9.45946 19.4319 9.10839 19.2441 8.73102 19.1295C8.3383 19.0102 7.88938 19 6.57483 19H5.16144C4.6343 19 4.17954 19 3.80497 18.9694C3.40963 18.9371 3.01641 18.8658 2.63803 18.673C2.07354 18.3854 1.6146 17.9265 1.32698 17.362C1.13419 16.9836 1.06287 16.5904 1.03057 16.195C0.999967 15.8205 0.999983 15.3657 1 14.8385V6.16146C0.999983 5.63431 0.999967 5.17955 1.03057 4.80497C1.06287 4.40963 1.13419 4.01641 1.32698 3.63803C1.6146 3.07354 2.07354 2.6146 2.63803 2.32698C3.01641 2.13419 3.40963 2.06287 3.80497 2.03057C4.17955 1.99997 4.63431 1.99998 5.16146 2ZM11 9.4C11 8.2634 10.9992 7.47108 10.9488 6.85424C10.8994 6.24907 10.8072 5.90139 10.673 5.63803C10.3854 5.07354 9.92646 4.6146 9.36197 4.32698C9.09862 4.1928 8.75093 4.10062 8.14576 4.05118C7.52892 4.00078 6.73661 4 5.6 4H5.2C4.62345 4 4.25117 4.00078 3.96784 4.02393C3.69617 4.04612 3.59546 4.0838 3.54601 4.109C3.35785 4.20487 3.20487 4.35785 3.109 4.54601C3.0838 4.59546 3.04612 4.69617 3.02393 4.96784C3.00078 5.25117 3 5.62345 3 6.2V14.8C3 15.3766 3.00078 15.7488 3.02393 16.0322C3.04612 16.3038 3.0838 16.4045 3.109 16.454C3.20487 16.6422 3.35785 16.7951 3.54601 16.891C3.59546 16.9162 3.69617 16.9539 3.96784 16.9761C4.25117 16.9992 4.62345 17 5.2 17H6.57483C6.62469 17 6.67388 17 6.72242 17C7.83207 16.9996 8.59938 16.9993 9.31219 17.2158C9.92713 17.4025 10.5002 17.706 11 18.1095V9.4ZM13 18.1095C13.4998 17.706 14.0729 17.4025 14.6878 17.2158C15.4006 16.9993 16.1679 16.9996 17.2776 17C17.3261 17 17.3753 17 17.4252 17H18.8C19.3766 17 19.7488 16.9992 20.0322 16.9761C20.3038 16.9539 20.4046 16.9162 20.454 16.891C20.6422 16.7951 20.7951 16.6422 20.891 16.454C20.9162 16.4045 20.9539 16.3038 20.9761 16.0322C20.9992 15.7488 21 15.3766 21 14.8V6.2C21 5.62345 20.9992 5.25117 20.9761 4.96784C20.9539 4.69617 20.9162 4.59546 20.891 4.54601C20.7951 4.35785 20.6422 4.20487 20.454 4.109C20.4046 4.0838 20.3038 4.04612 20.0322 4.02393C19.7488 4.00078 19.3766 4 18.8 4H18.4C17.2634 4 16.4711 4.00078 15.8542 4.05118C15.2491 4.10062 14.9014 4.1928 14.638 4.32698C14.0735 4.6146 13.6146 5.07354 13.327 5.63803C13.1928 5.90139 13.1006 6.24907 13.0512 6.85424C13.0008 7.47108 13 8.2634 13 9.4V18.1095Z"></path>
            </svg>
            <div className="text-wrapper">
              <p className="text-bold">Kata library</p>
              <p>Complete challenging kata to earn honor and ranks</p>
            </div>
          </Link>
          <Link to="/users/leaderboard" className="header-dropdown__item">
            <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.35462 0.999775C7.38533 0.999899 7.41534 1.00002 7.44454 1.00002H16.5557C16.5849 1.00002 16.6149 0.999899 16.6456 0.999775C16.9586 0.998509 17.3443 0.99695 17.6841 1.12064C18.2397 1.32283 18.6773 1.76045 18.8795 2.31598C18.9594 2.5355 18.987 2.77416 18.9962 3.00002L20.5266 3.00002C20.7366 3 20.9412 2.99998 21.1153 3.01185C21.3057 3.02484 21.5314 3.05532 21.7655 3.15226C22.2555 3.35525 22.6449 3.7446 22.8479 4.23465C22.9448 4.4687 22.9753 4.69442 22.9883 4.88479C23.0001 5.05888 23.0001 5.2635 23.0001 5.47354V6.00002C23.0001 6.04656 23.0001 6.09241 23.0001 6.13759C23.0006 6.93298 23.0009 7.52364 22.8638 8.0353C22.4939 9.41566 21.4157 10.4939 20.0354 10.8637C19.6548 10.9657 19.2305 10.9916 18.7108 10.9981C17.9429 13.5809 15.7245 15.5394 13.0001 15.9291V17H13.4445C15.9605 17 18.0001 19.0396 18.0001 21.5556C18.0001 22.3533 17.3534 23 16.5557 23H7.44454C6.6468 23 6.0001 22.3533 6.0001 21.5556C6.0001 19.0396 8.03969 17 10.5557 17H11.0001V15.9291C8.27565 15.5394 6.05727 13.5809 5.2894 10.9981C4.76967 10.9916 4.34539 10.9657 3.96482 10.8637C2.58445 10.4939 1.50626 9.41566 1.13639 8.0353C0.999297 7.52365 0.999617 6.93299 1.00005 6.1376C1.00007 6.09241 1.0001 6.04656 1.0001 6.00002V5.50002C1.0001 5.49119 1.0001 5.48236 1.00009 5.47355C1.00007 5.2635 1.00005 5.05888 1.01193 4.88479C1.02492 4.69442 1.05539 4.4687 1.15234 4.23465C1.35533 3.7446 1.74467 3.35525 2.23473 3.15226C2.46877 3.05532 2.6945 3.02484 2.88487 3.01185C3.05895 2.99998 3.26358 3 3.47362 3.00002C3.48244 3.00002 3.49126 3.00002 3.5001 3.00002H5.00397C5.01318 2.77416 5.04081 2.5355 5.12071 2.31598C5.32291 1.76045 5.76052 1.32283 6.31606 1.12064C6.65588 0.99695 7.04156 0.998509 7.35462 0.999775ZM5.0001 5.00002H3.5001C3.25344 5.00002 3.11854 5.00056 3.02101 5.00722C3.01648 5.00753 3.01222 5.00784 3.00823 5.00815C3.00792 5.01214 3.0076 5.0164 3.00729 5.02094C3.00064 5.11846 3.0001 5.25337 3.0001 5.50002V6.00002C3.0001 6.99437 3.00869 7.29538 3.06824 7.51766C3.25318 8.20784 3.79227 8.74694 4.48246 8.93187C4.60125 8.9637 4.74252 8.98097 5.0001 8.99016V5.00002ZM7.0001 3.44446C7.0001 3.22541 7.00052 3.10562 7.0058 3.01877C7.00606 3.01441 7.00633 3.01033 7.0066 3.00652C7.0104 3.00625 7.01448 3.00599 7.01885 3.00572C7.10569 3.00045 7.22548 3.00002 7.44454 3.00002H16.5557C16.7747 3.00002 16.8945 3.00045 16.9813 3.00572C16.9857 3.00599 16.9898 3.00625 16.9936 3.00652C16.9939 3.01033 16.9941 3.01441 16.9944 3.01877C16.9997 3.10562 17.0001 3.22541 17.0001 3.44446V9.00002C17.0001 11.7614 14.7615 14 12.0001 14C9.23867 14 7.0001 11.7614 7.0001 9.00002V3.44446ZM19.0001 5.00002V8.99016C19.2577 8.98097 19.3989 8.9637 19.5177 8.93187C20.2079 8.74694 20.747 8.20784 20.9319 7.51766C20.9915 7.29538 21.0001 6.99437 21.0001 6.00002V5.50002C21.0001 5.25337 20.9996 5.11846 20.9929 5.02094C20.9926 5.0164 20.9923 5.01214 20.992 5.00815C20.988 5.00784 20.9837 5.00753 20.9792 5.00722C20.8817 5.00056 20.7467 5.00002 20.5001 5.00002H19.0001ZM10.5557 19C9.33505 19 8.31431 19.8558 8.06065 21H15.9395C15.6859 19.8558 14.6651 19 13.4445 19H10.5557Z"></path>
            </svg>
            <div className="text-wrapper">
              <p className="text-bold">Leaderboards</p>
              <p>Achieve honor and move up the leaderboards</p>
            </div>
          </Link>
        </div>
      </nav>
    </div>
  );
};
